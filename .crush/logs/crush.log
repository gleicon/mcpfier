{"time":"2025-08-07T07:55:47.422159-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.loadProviders","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":99},"msg":"Using cached provider data","path":"/Users/gleicon/.local/share/crush/providers.json"}
{"time":"2025-08-07T07:55:47.424207-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.loadProviders.func1","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":103},"msg":"Updating provider cache in background"}
{"time":"2025-08-07T07:55:47.626904-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.saveProvidersInCache","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":48},"msg":"Saving cached provider data","path":"/Users/gleicon/.local/share/crush/providers.json"}
{"time":"2025-08-07T07:55:47.977583-03:00","level":"INFO","msg":"OK   20250424200609_initial.sql (964.63µs)"}
{"time":"2025-08-07T07:55:47.977956-03:00","level":"INFO","msg":"OK   20250515105448_add_summary_message_id.sql (348.83µs)"}
{"time":"2025-08-07T07:55:47.978246-03:00","level":"INFO","msg":"OK   20250624000000_add_created_at_indexes.sql (277.46µs)"}
{"time":"2025-08-07T07:55:47.978516-03:00","level":"INFO","msg":"OK   20250627000000_add_provider_to_messages.sql (258.08µs)"}
{"time":"2025-08-07T07:55:47.978522-03:00","level":"INFO","msg":"goose: successfully migrated database to version: 20250627000000"}
{"time":"2025-08-07T07:55:47.979453-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/app.(*App).initLSPClients","file":"/home/runner/work/crush/crush/internal/app/lsp.go","line":18},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-07T07:55:47.981856-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-07T07:55:47.982192-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-07T07:55:47.982749-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-07T07:55:47.982772-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-07T07:55:50.141426-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-07T07:55:50.141533-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-07T07:55:50.14264-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-07T07:55:50.142717-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-07T07:55:50.428211-03:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processGeneration.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":373},"msg":"failed to generate title","error":"POST \"https://api.anthropic.com/v1/messages\": 400 Bad Request (Request-ID: req_011CRtEADybp5dTqAydQQvnC) {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits.\"}}"}
{"time":"2025-08-07T07:55:50.437802-03:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).Run.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":347},"msg":"failed to process events: POST \"https://api.anthropic.com/v1/messages\": 400 Bad Request (Request-ID: req_011CRtEAE4oxcfTqn3cD8VZK) {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits.\"}}"}
{"time":"2025-08-07T08:00:17.636896-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.loadProviders","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":99},"msg":"Using cached provider data","path":"/Users/gleicon/.local/share/crush/providers.json"}
{"time":"2025-08-07T08:00:17.638316-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.loadProviders.func1","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":103},"msg":"Updating provider cache in background"}
{"time":"2025-08-07T08:00:17.863531-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.saveProvidersInCache","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":48},"msg":"Saving cached provider data","path":"/Users/gleicon/.local/share/crush/providers.json"}
{"time":"2025-08-07T08:00:18.176103-03:00","level":"INFO","msg":"goose: no migrations to run. current version: 20250627000000"}
{"time":"2025-08-07T08:00:18.17617-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/app.(*App).initLSPClients","file":"/home/runner/work/crush/crush/internal/app/lsp.go","line":18},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-07T08:00:18.176866-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-07T08:00:18.176936-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-07T08:00:18.177471-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-07T08:00:18.177495-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-07T08:06:20.080449-03:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processGeneration.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":373},"msg":"failed to generate title","error":"POST \"https://api.anthropic.com/v1/messages\": 400 Bad Request (Request-ID: req_011CRtExeDtveXkoP9r9eiF9) {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits.\"}}"}
{"time":"2025-08-07T08:54:27.099988-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_PjxkqYJjMmlFSJTHJQTLkJws","name":"ls","input":"","type":"","finished":false}}
{"time":"2025-08-07T08:55:04.160725-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_6nfSbZbsUXHmK9QejzBGKT5k","name":"write","input":"","type":"","finished":false}}
{"time":"2025-08-07T08:55:04.351562-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_kWU78ACGV4gCWr93wutg8eYt","name":"write","input":"","type":"","finished":false}}
{"time":"2025-08-07T08:55:04.723753-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_jFH3rfHn1Ea1ELONTMNRKAXs","name":"write","input":"","type":"","finished":false}}
{"time":"2025-08-07T08:55:04.915063-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_TVslsCC4pzAICQfSgs0dRLyV","name":"write","input":"","type":"","finished":false}}
{"time":"2025-08-07T08:58:17.563424-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_QJB0L0dljDRx5Ugu0ocetmtl","name":"write","input":"","type":"","finished":false}}
{"time":"2025-08-07T08:58:21.048196-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_6zX0CLn07PyjDLOG0qxnAXy4","name":"bash","input":"","type":"","finished":false}}
{"time":"2025-08-07T08:58:58.867863-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/shell.(*loggingAdapter).InfoPersist","file":"/home/runner/work/crush/crush/internal/shell/persistent.go","line":36},"msg":"POSIX command finished","command":"(cd /Users/gleicon/code/go/src/github.com/gleicon/mcpfier && go mod tidy)","err":"exit status 1"}
{"time":"2025-08-07T08:59:00.069484-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_mYFu7OklWIAuzyFrCNnpi3Ia","name":"bash","input":"","type":"","finished":false}}
{"time":"2025-08-07T08:59:00.951606-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/shell.(*loggingAdapter).InfoPersist","file":"/home/runner/work/crush/crush/internal/shell/persistent.go","line":36},"msg":"POSIX command finished","command":"(cd /Users/gleicon/code/go/src/github.com/gleicon/mcpfier && go mod init github.com/gleicon/mcpfier)","err":null}
{"time":"2025-08-07T08:59:01.96569-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_y2PQrXRAI73k5gQ7o2i3fwC9","name":"bash","input":"","type":"","finished":false}}
{"time":"2025-08-07T08:59:03.298581-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/shell.(*loggingAdapter).InfoPersist","file":"/home/runner/work/crush/crush/internal/shell/persistent.go","line":36},"msg":"POSIX command finished","command":"(cd /Users/gleicon/code/go/src/github.com/gleicon/mcpfier && go mod tidy)","err":null}
{"time":"2025-08-07T09:15:38.202997-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.loadProviders","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":99},"msg":"Using cached provider data","path":"/Users/gleicon/.local/share/crush/providers.json"}
{"time":"2025-08-07T09:15:38.204551-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.loadProviders.func1","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":103},"msg":"Updating provider cache in background"}
{"time":"2025-08-07T09:15:38.461857-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/config.saveProvidersInCache","file":"/home/runner/work/crush/crush/internal/config/provider.go","line":48},"msg":"Saving cached provider data","path":"/Users/gleicon/.local/share/crush/providers.json"}
{"time":"2025-08-07T09:15:38.767498-03:00","level":"INFO","msg":"goose: no migrations to run. current version: 20250627000000"}
{"time":"2025-08-07T09:15:38.768291-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/app.(*App).initLSPClients","file":"/home/runner/work/crush/crush/internal/app/lsp.go","line":18},"msg":"LSP clients initialization started in background"}
{"time":"2025-08-07T09:15:38.768376-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/app.(*App).createAndStartLSPClient","file":"/home/runner/work/crush/crush/internal/app/lsp.go","line":23},"msg":"Creating LSP client","name":"go","command":"gopls","args":null}
{"time":"2025-08-07T09:15:38.768388-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/app.(*App).createAndStartLSPClient","file":"/home/runner/work/crush/crush/internal/app/lsp.go","line":23},"msg":"Creating LSP client","name":"nix","command":"nil","args":null}
{"time":"2025-08-07T09:15:38.768375-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/app.(*App).createAndStartLSPClient","file":"/home/runner/work/crush/crush/internal/app/lsp.go","line":23},"msg":"Creating LSP client","name":"typescript","command":"typescript-language-server","args":["--stdio"]}
{"time":"2025-08-07T09:15:38.776204-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"task"}
{"time":"2025-08-07T09:15:38.777981-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"task"}
{"time":"2025-08-07T09:15:38.778263-03:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/app.(*App).createAndStartLSPClient","file":"/home/runner/work/crush/crush/internal/app/lsp.go","line":31},"msg":"Failed to create LSP client for","typescript":"failed to start LSP server: exec: \"typescript-language-server\": executable file not found in $PATH"}
{"time":"2025-08-07T09:15:38.778358-03:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/app.(*App).createAndStartLSPClient","file":"/home/runner/work/crush/crush/internal/app/lsp.go","line":31},"msg":"Failed to create LSP client for","nix":"failed to start LSP server: exec: \"nil\": executable file not found in $PATH"}
{"time":"2025-08-07T09:15:38.779047-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":173},"msg":"Initializing agent tools","agent":"coder"}
{"time":"2025-08-07T09:15:38.77909-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.NewAgent.func1.1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":175},"msg":"Initialized agent tools","agent":"coder"}
{"time":"2025-08-07T09:15:39.398919-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/app.(*App).createAndStartLSPClient","file":"/home/runner/work/crush/crush/internal/app/lsp.go","line":61},"msg":"LSP server is ready","name":"go"}
{"time":"2025-08-07T09:15:39.398951-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/app.(*App).createAndStartLSPClient","file":"/home/runner/work/crush/crush/internal/app/lsp.go","line":66},"msg":"LSP client initialized","name":"go"}
{"time":"2025-08-07T09:15:53.883727-03:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processGeneration.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":373},"msg":"failed to generate title","error":"POST \"https://api.anthropic.com/v1/messages\": 400 Bad Request (Request-ID: req_011CRtLGJseh3BKiK27HeNc8) {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits.\"}}"}
{"time":"2025-08-07T09:15:56.57696-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_YXMZXHckJE0vgomPS02lQmic","name":"bash","input":"","type":"","finished":false}}
{"time":"2025-08-07T09:15:56.57726-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_7Bog1bKnEOsdYilPSzxwazIE","name":"ls","input":"","type":"","finished":false}}
{"time":"2025-08-07T09:15:56.785164-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/shell.(*loggingAdapter).InfoPersist","file":"/home/runner/work/crush/crush/internal/shell/persistent.go","line":36},"msg":"POSIX command finished","command":"go mod tidy","err":null}
{"time":"2025-08-07T09:15:58.877111-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_oMYQTONZKAUkrdCHAmi30nFL","name":"view","input":"","type":"","finished":false}}
{"time":"2025-08-07T09:15:59.028612-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_xLiYxnbISqOqOvl0ceOCEn5J","name":"view","input":"","type":"","finished":false}}
{"time":"2025-08-07T09:16:00.208353-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_rXelyzW8KLit4wwJoc900qhh","name":"multiedit","input":"","type":"","finished":false}}
{"time":"2025-08-07T09:16:08.647606-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_7fmbqrgXGxf8FGHVC7YtuqJZ","name":"edit","input":"","type":"","finished":false}}
{"time":"2025-08-07T09:16:25.400505-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_AdOgnS5WLuj9ZfnOjomPJVAh","name":"multiedit","input":"","type":"","finished":false}}
{"time":"2025-08-07T09:17:00.616784-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_Inc88tDBqxfCSVuWL0Pwq8zX","name":"multiedit","input":"","type":"","finished":false}}
{"time":"2025-08-07T09:17:05.334316-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_u0VSr0UP2laqjKYhIGNoKKvQ","name":"edit","input":"","type":"","finished":false}}
{"time":"2025-08-07T09:17:07.231384-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_DJmkQTy8gPmYEdb8rCrtJuLA","name":"edit","input":"","type":"","finished":false}}
{"time":"2025-08-07T09:17:27.290371-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"Rate limit reached for gpt-4o in organization org-7vr40iRcfPrQiO4ulbEdQ8VX on tokens per min (TPM): Limit 30000, Used 30000, Requested 4673. Please try again in 9.346s. Visit https://platform.openai.com/account/rate-limits to learn more.","type":"tokens"}
{"time":"2025-08-07T09:17:27.290664-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":518},"msg":"Retry-After header","values":["10"]}
{"time":"2025-08-07T09:17:27.290704-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":1,"max_retries":8}
{"time":"2025-08-07T09:17:56.713831-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"Rate limit reached for gpt-4o in organization org-7vr40iRcfPrQiO4ulbEdQ8VX on tokens per min (TPM): Limit 30000, Used 30000, Requested 4673. Please try again in 9.346s. Visit https://platform.openai.com/account/rate-limits to learn more.","type":"tokens"}
{"time":"2025-08-07T09:17:56.714079-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":518},"msg":"Retry-After header","values":["10"]}
{"time":"2025-08-07T09:17:56.714099-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":2,"max_retries":8}
{"time":"2025-08-07T09:19:09.645451-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_e1xFa0XYNxo621m4Aqg9SLG3","name":"fetch","input":"","type":"","finished":false}}
{"time":"2025-08-07T09:19:33.821281-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).processEvent","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":627},"msg":"Tool call started","toolCall":{"id":"call_2mO2AdLW32Nchu0rZODc9QyP","name":"sourcegraph","input":"","type":"","finished":false}}
{"time":"2025-08-07T09:20:14.876716-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","type":"insufficient_quota"}
{"time":"2025-08-07T09:20:14.877607-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":1,"max_retries":8}
{"time":"2025-08-07T09:20:19.641314-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","type":"insufficient_quota"}
{"time":"2025-08-07T09:20:19.641409-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":2,"max_retries":8}
{"time":"2025-08-07T09:20:27.059564-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","type":"insufficient_quota"}
{"time":"2025-08-07T09:20:27.059789-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":3,"max_retries":8}
{"time":"2025-08-07T09:20:38.796776-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","type":"insufficient_quota"}
{"time":"2025-08-07T09:20:38.797612-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":4,"max_retries":8}
{"time":"2025-08-07T09:21:00.081108-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","type":"insufficient_quota"}
{"time":"2025-08-07T09:21:00.081362-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":5,"max_retries":8}
{"time":"2025-08-07T09:21:40.682341-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","type":"insufficient_quota"}
{"time":"2025-08-07T09:21:40.683129-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":6,"max_retries":8}
{"time":"2025-08-07T09:22:59.785471-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","type":"insufficient_quota"}
{"time":"2025-08-07T09:22:59.786502-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":7,"max_retries":8}
{"time":"2025-08-07T09:25:35.617621-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","type":"insufficient_quota"}
{"time":"2025-08-07T09:25:35.618691-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":8,"max_retries":8}
{"time":"2025-08-07T09:30:45.025196-03:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).Run.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":347},"msg":"failed to process events: maximum retry attempts reached for rate limit: 8 retries"}
{"time":"2025-08-07T09:33:42.376542-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).convertMessages","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":169},"msg":"There is a message without content, investigate, this should not happen"}
{"time":"2025-08-07T09:33:44.656622-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","type":"insufficient_quota"}
{"time":"2025-08-07T09:33:44.656671-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":1,"max_retries":8}
{"time":"2025-08-07T09:33:49.245104-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","type":"insufficient_quota"}
{"time":"2025-08-07T09:33:49.245442-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":2,"max_retries":8}
{"time":"2025-08-07T09:33:56.210424-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","type":"insufficient_quota"}
{"time":"2025-08-07T09:33:56.211291-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":3,"max_retries":8}
{"time":"2025-08-07T09:34:08.193894-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","type":"insufficient_quota"}
{"time":"2025-08-07T09:34:08.194739-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":4,"max_retries":8}
{"time":"2025-08-07T09:34:29.37191-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","type":"insufficient_quota"}
{"time":"2025-08-07T09:34:29.372187-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":5,"max_retries":8}
{"time":"2025-08-07T09:35:09.856319-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","type":"insufficient_quota"}
{"time":"2025-08-07T09:35:09.857158-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":6,"max_retries":8}
{"time":"2025-08-07T09:36:28.790723-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","type":"insufficient_quota"}
{"time":"2025-08-07T09:36:28.791732-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":7,"max_retries":8}
{"time":"2025-08-07T09:39:04.788254-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).shouldRetry","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":516},"msg":"OpenAI API error","status_code":429,"message":"You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.","type":"insufficient_quota"}
{"time":"2025-08-07T09:39:04.788529-03:00","level":"WARN","source":{"function":"github.com/charmbracelet/crush/internal/llm/provider.(*openaiClient).stream.func1","file":"/home/runner/work/crush/crush/internal/llm/provider/openai.go","line":465},"msg":"Retrying due to rate limit","attempt":8,"max_retries":8}
{"time":"2025-08-07T09:44:14.494525-03:00","level":"ERROR","source":{"function":"github.com/charmbracelet/crush/internal/llm/agent.(*agent).Run.func1","file":"/home/runner/work/crush/crush/internal/llm/agent/agent.go","line":347},"msg":"failed to process events: maximum retry attempts reached for rate limit: 8 retries"}
{"time":"2025-08-07T09:46:39.077564-03:00","level":"INFO","source":{"function":"github.com/charmbracelet/crush/internal/app.(*App).runWorkspaceWatcher","file":"/home/runner/work/crush/crush/internal/app/lsp.go","line":97},"msg":"Workspace watcher stopped","client":"go"}
